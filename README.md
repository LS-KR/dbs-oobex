# dbs-oobex
如你所见,这是在Dr_Black System bilibili OS 4.0上使用的OOBE设置程序.  
本项目使用CC0协议,可以自由转载,但请保留此信息.

## 编译和使用
### uplog
在`src`目录中,`dbs_uplogx.py`和`dbs_uplogxx.py`是上传日志的两个程序,但通常只使用一个.  
两者的区别是:dbs_uplogxx.py是支持上传用户生日的,而dbs_uplogx.py不支持.  
同时,二者在握手协议上也有少量区别,但是在实际使用中,dbs_uplogxx.py更加适合.  
在编译过程中,建议给予pyinstaller的一个参数`--onefile`来编译dbs_uplogxx.py或者dbs_uplogx.py.  
生日文件存放在`C:\IDS\SR.txt`中,格式为`MM-DD`  
### dolog
在`src`目录中,`dbs_dolog.py`是收集信息的程序.  
它收集的信息包括:
- 计算机名
- OEM信息
其中OEM信息是从注册表中读取的.  
其内部有大量注释,是因为曾经有段时间使用某个文件的MD5作为标识码,但已废弃.  
在编译过程中请给予GCC的一个参数`-m32`来编译dbs_dolog.cpp.  
### dbs-oobex
此程序使用C#编写,占此项目的绝大部分  
CPU优化极差,同时占用大量内存,但是支持多线程.(废话,不用多线程根本无法完成)  
其实这段是在自己最初学C#的时候开的坑,从头到尾都是乱七八糟的破玩意,但是我还是挺喜欢的.:P  
在编译过程中请注意架构:.NET Framework 4.8,x86,x64,Release,Debug.  
此程序为总项目的启动点.

## 吐槽
能同时看懂这三种语言的人一定会发现本项目的代码逻辑极其混乱:无论是UI显示还是算法,都是一大堆的if-else,switch-case,for-while,do-while,try-catch,等等及其混乱的组合.  
包括后台线程的组合,还有线程的同步,还有线程的终止,甚至通过一个布尔值变量来检测线程的终止.  
甚至传递参数还是通过文本文件,而不是命令行或者进程消息.  
文本文件后缀名被改为dll,都是当时为防止用户进行篡改.现在无此需要,不过这个算法还是被保留下来了.  
这些都是曾经学习时的投机,导致现在的程序极其不稳定.  

## 关于本项目
本项目是一个程序,用于收集信息,并将信息上传到服务器.  
你可能会疑惑:为什么在系统中如此核心的程序会被上传到这里并且还是以CC0协议发布?  
这个问题没有答案,作为一个Dr_Black System的开发组成员,对自己,对用户负责是一个基本的职责.  
曾经我只是在Project中按照系统需求和上级的意愿来编写程序,而现在我改变了想法,我不再完全为系统发布服务,也不再按照上级的要求和意愿编写,而是为用户提供一个程序,以便用户可以自由的使用.  
同时,我认为,保障用户知情权也是极其重要的.如果一个用户在使用程序的过程中,连自己的哪些信息被上传都不知道,那么告知上传信息还有什么意义呢?  
如果上文中`在系统中如此核心的程序会被上传到这里并且还是以CC0协议发布?`这个问题非要说出一个答案的话,我想,这个就是答案.  
当然,Dr_Black本人也造成了我本人从Project中脱离出来:我不再负责程序的编写,而是负责程序的维护.甚至我也不再负责程序的维护.  
我无法在Project中学习到任何新知识,在现在的系统中,我甚至只能根据旧项目的结构来编写程序.  
同时,因为我本人的学业压力(在写这段文字时为高二学生),没有时间和精力去维护整套系统的运行.所以我最终脱离了整个Project,不再为其贡献代码.  
(●'◡'●)  
